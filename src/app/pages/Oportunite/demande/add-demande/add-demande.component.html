
<div class="justify-content-center content">
    <!-- Card -->

    <mdb-card>

<div *ngIf="this.route.snapshot.params['id']===null || this.route.snapshot.params['id'] ===undefined"
     class="card-header" style="background-color: #cccccc;">

    <img (click)="Ajouteremprunt(f)" *ngIf="this.route.snapshot.params['id']===undefined"
         src="./assets/icon/tompoan.png" style="height: 28px;float: left;cursor: pointer"
         title="Identifier">

    <h5 class="text-center"> {{'Modifier Demande'|translate}}</h5>

    <!--                <div class="text-center">-->
    <!--                <h5 *ngIf="this.route.snapshot.params['id']===null || this.route.snapshot.params['id'] ===undefined"-->
    <!--                    class="text-center"> {{'demande.ficheemprunt'|translate}}</h5>-->
    <!--                <h5 *ngIf="this.route.snapshot.params['id']!=undefined"-->
    <!--                    class="text-center"> {{'demande.ficheemprunt'|translate}}({{demandeemprunt.identifiant}})</h5>-->


</div>
        <app-entete-ar *ngIf="demande['wfProcessID']!=null" [enteteArchive]="demande"
                       [historics]="demande['workflow']['historicWF']" [titleclass]="'Demande Emprunt'"
                       [viewerUrl]="demande['workflow']['wfinstanceDiagram']"></app-entete-ar>

<form [formGroup]="demandeForm" class="row g-3 needs-validation custom-form" novalidate>
    <div class="col-md-6">
        <label for="nom" class="form-label">Nom:</label>
        <input class="form-control" formControlName="nom" id="nom" type="text" required>
        <div *ngIf="demandeForm.get('nom').invalid && (demandeForm.get('nom').dirty || demandeForm.get('nom').touched)"
             class="alert alert-danger">
            <div *ngIf="demandeForm.get('nom').errors.required">
                Nom is required.
            </div>
        </div>
    </div>
    <div class="col-md-6">
        <label for="client" class="form-label">Client:</label>
        <select class="form-select" id="client" #clientSelect>
            <option *ngFor="let client of clients" [value]="client.id">{{ client.nom }}</option>
        </select>
<!--        <div *ngIf="demandeForm.get('client').invalid && (demandeForm.get('client').dirty || demandeForm.get('client').touched)"-->
<!--             class="alert alert-danger">-->
<!--            <div *ngIf="demandeForm.get('client').errors.required">-->
<!--                Client is required.-->
<!--            </div>-->
<!--        </div>-->
    </div>
    <div class="col-md-6">
        <label for="description" class="form-label">Description:</label>
        <textarea class="form-control" formControlName="description" id="description" rows="3"></textarea>
        <!-- Add validation for description if needed -->
    </div>



    <div class="col-md-6">
        <label for="statut" class="form-label">Statut:</label>
        <select class="form-select" formControlName="statut" id="statut">
            <option *ngFor="let status of statusList" [value]="status">{{ status }}</option>
        </select>
        <div *ngIf="demandeForm.get('statut').invalid && (demandeForm.get('statut').dirty || demandeForm.get('statut').touched)"
             class="alert alert-danger">
            <div *ngIf="demandeForm.get('statut').errors.required">
                Statut is required.
            </div>
        </div>
    </div>

<!--    <div class="col-12">-->
<!--        <div class="d-grid gap-2 d-md-flex justify-content-md-between">-->
<!--            <button (click)="Return()" class="btn btn-light" type="button">Cancel</button>-->
<!--            <button (click)="onSubmit()" class="btn btn-success" type="submit">Save</button>-->
<!--        </div>-->
<!--    </div>-->

    <div class="d-grid gap-2 d-md-flex justify-content-md-between">
        <!--            <button (click)="Return()" class="btn btn-light" mdbRipple type="button">Annuler</button>-->
        <!--            <button class="btn btn-success me-md-2" mdbRipple type="submit">Confirmer</button>-->
        <app-workflow-decision (decisionEvent)="nextTask($event)" *ngIf="show_sous_comp"
                               [access]="demande['userPermission'] === 'READ' || demande['userPermission'] === 'NONE'"
                               [decisions]="demande['decisionsWF']"
                               [object]="demande"
                               class="col-md-12">
        </app-workflow-decision>
        <!--        <div class="d-grid gap-2 d-md-flex justify-content-md-between">-->
        <!--            <button mdbRipple class="btn btn-light" type="button" (click)="Return()">Annuler</button>-->
        <!--            <button mdbRipple class="btn btn-success me-md-2" type="submit" >Confirmer</button>-->

    </div>
</form>
    </mdb-card>
</div>