<dx-popup
        [maxWidth]="940"
        [width]="500"
        [height]="'auto'"
        [showTitle]="true"
        title="Créer une opportunité"
        [dragEnabled]="false"
        [closeOnOutsideClick]="true"
        [(visible)]="showModal">

    <p>Voulez-vous créer une offre pour cette opportunité ?</p>
    <div class="row">
        <div class="col-lg-6 col-md-6 col-sm-8 col-xs-12">
            <button
                    class="btn btn-secondary"
                    (click)="onCancelClick()">Annuler</button> </div>
        <div class="col-lg-6 col-md-6 col-sm-8 col-xs-12 alignRight">
            <button
                    class="btn btn-primary"
                    (click)="onCreateOpportunityClick()">Créer Opportunité</button></div>
    </div>
</dx-popup>
<div>

    <div>
        <div class="card-header text-center bg-secondary  text-white bannerColor" >
            <div class="col-md-12" style="text-align: center;" *ngIf="demandedto!=undefined">
                <h5> edit opportunité ({{demandedto.id}})</h5>
            </div>
            <div style="" >
                <a (click)="showPopupWF()" rel="noopener" target="_blank" title="">
                    <div class="icon-container"  title="{{'show-event.Voir la liste des événements' | translate}}">
                        <i class="fas fa-project-diagram"></i>
                    </div>
                </a>
            </div>




        </div>
    </div>
</div>
<!-- Tabs content -->
<div class="tab-content" id="ex2-content">
    <!-- acctiver when verification is true-->
    <div
            class="tab-pane fade {{ creationOpp ? 'show active' : '' }}"
            id="ex3-tabs-1"
            role="tabpanel"
            aria-labelledby="ex3-tab-1"
            *ngIf="creationOpp"
    >
        <form [formGroup]="oppF" class="row g-3 needs-validation custom-form" novalidate>


            <section class="light" >
                <div class="container py-2">
                    <div class="h1 text-center text-dark" id="pageHeaderTitle2"></div>


                    <article class="postcard light green">
                        <a class="postcard__img_link" href="#">
                            <!--                    <img class="postcard__img" src="https://picsum.photos/500/501" alt="Image Title" />-->
                        </a>
                        <div class="postcard__text t-dark">


                            <div class="form-group ">
                                <label for="nom" class="form-label">Nom:</label>
                                <input class="form-control" formControlName="nom" id="nom" type="text" required>
                                <!--        <div *ngIf="demandeForm.get('nom').invalid && (demandeForm.get('nom').dirty || demandeForm.get('nom').touched)"-->
                                <!--             class="alert alert-danger">-->
                                <!--            <div *ngIf="demandeForm.get('nom').errors.required">-->
                                <!--                Nom is required.-->
                                <!--            </div>-->
                                <!--        </div>-->
                            </div>



                            <div class="form-group ">
                                <label for="description" class="form-label">Description:</label>
                                <textarea class="form-control" formControlName="description" id="description" type="text" required></textarea>

                            </div>


                        </div>

                    </article>

                </div>

            </section>


            <section class="light" *ngIf="selectedDemande">
                <div class="container py-2">
                    <div class="h1 text-center text-dark" id="pageHeaderTitle"></div>


                    <article class="postcard light green">
                        <a class="postcard__img_link" href="#">
                            <!--                    <img class="postcard__img" src="https://picsum.photos/500/501" alt="Image Title" />-->
                        </a>
                        <div class="postcard__text t-dark">
                            <h5><a href="#">Demande informations</a></h5>
                            <div class="postcard__subtitle small">
                                <time datetime="2020-05-25 12:00:00">
                                    <i class="fas fa-calendar-alt mr-2"></i>Mon, May 25th 2020
                                </time>
                            </div>
                            <div class="postcard__bar"></div>
                            <!--                    <div class="postcard__preview-txt">Lorem ipsum dolor sit amet consectetur adipisicing elit. Eligendi, fugiat asperiores inventore beatae accusamus odit minima enim, commodi quia, doloribus eius! Ducimus nemo accusantium maiores velit corrupti tempora reiciendis molestiae repellat vero. Eveniet ipsam adipisci illo iusto quibusdam, sunt neque nulla unde ipsum dolores nobis enim quidem excepturi, illum quos!</div>-->
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <label for="nomDemande" class="form-label">Nom Demande:</label>
                                    <input class="form-control" id="nomDemande" type="text" [value]="demandeF.get('nom').value" readonly>
                                </div>
                                <div class="form-group col-md-6">
                                    <label for="client" class="form-label">Client:</label>
                                    <input class="form-control" id="client" type="text" [value]="demandeF.get('client').value" readonly>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <label for="statut" class="form-label">Statut:</label>
                                    <input class="form-control" id="statut" type="text" [value]="demandeF.get('statut').value" readonly>
                                </div>
                                <div class="form-group col-md-6">
                                    <label for="source" class="form-label">Source:</label>
                                    <input class="form-control" id="source" type="text" [value]="demandeF.get('source').value" readonly>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <label for="commentaires" class="form-label">Commentaires:</label>
                                    <input class="form-control" id="commentaires" type="text" [value]="demandeF.get('commentaires').value" readonly>
                                </div>
                                <div class="form-group col-md-6">
                                    <label for="deadline" class="form-label">Deadline:</label>
                                    <input class="form-control" id="deadline" type="text" [value]="demandeF.get('deadline').value" readonly>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="descriptionDemande" class="form-label">Description Demande:</label>
                                <textarea class="form-control" id="descriptionDemande" type="text" [value]="demandeF.get('description').value" readonly></textarea>
                            </div>
                        </div>
                    </article>

                </div>
            </section>


            <div class="workflow-container">
                <!--            <button (click)="Return()" class="btn btn-light" mdbRipple type="button">Annuler</button>-->
                <!--            <button class="btn btn-success me-md-2" mdbRipple type="submit">Confirmer</button>-->
                <app-workflow-decision
                        *ngIf="oppForm &&(oppForm['workflow']!=undefined ||!(this.oppForm.userPermission == 'WRITE')) "
                        (decisionEvent)="Confirmation($event)"
                        (saveEvent)="save()"
                        (RetournEvent)="Retourn()"
                        [access]="oppForm['userPermission'] === 'READ' || oppForm['userPermission'] === 'NONE'"
                        [decisions]="decissionWF"
                        [object]="oppForm"
                        [SaveObject]="oppForm">
                </app-workflow-decision>

                <!--        <div class="d-grid gap-2 d-md-flex justify-content-md-between">-->
                <!--            <button mdbRipple class="btn btn-light" type="button" (click)="Return()">Annuler</button>-->
                <!--            <button mdbRipple class="btn btn-success me-md-2" type="submit" >Confirmer</button>-->

            </div>
        </form>

    </div>
    <div
            class="tab-pane fade {{ Affectaionequipe ? 'show active' : '' }}"
            id="ex3-tabs-2"
            role="tabpanel"
            aria-labelledby="ex3-tab-2"
            *ngIf="Affectaionequipe"
    >


        <dx-accordion
                [collapsible]="true"
                height="auto"
                [selectedIndex]="-1"
                [animationDuration]="300"
        >
            <dxi-item title="Opportunité info">
                <div >
                    <div class="form-group">
                        <label class="form-label"><b>Nom:</b></label>
                        <input class="form-control"  type="text" [value]="oppObject.nom" readonly />
                    </div>
                    <div class="form-group">
                        <label  class="form-label"><b>Description:</b></label>
                        <input  class="form-control"  type="text" [value]="oppObject.description" readonly />
                    </div>


                    <div class="form-group">
                        <label class="form-label"><b>Status:</b></label>
                        <input  class="form-control"  type="text" [value]="oppObject.status" readonly />
                    </div>

                    <div class="form-group">
                        <label  class="form-label"><b>Created At:</b></label>
                        <input  class="form-control"  type="text" [value]="oppObject.createAt | date:'medium'" readonly />
                    </div>


                </div>
            </dxi-item>
        </dx-accordion>

        <form [formGroup]="oppF" class="row g-3 needs-validation custom-form" novalidate>




                    <article class="postcard light green">
                        <a class="postcard__img_link" href="#">
                            <!--                    <img class="postcard__img" src="https://picsum.photos/500/501" alt="Image Title" />-->
                        </a>
                        <div class="postcard__text t-dark">


                            <div class="form-group ">
                                <label for="nom" class="form-label">Nom:</label>
                                <input class="form-control" formControlName="nom" type="text" required>
                                <!--        <div *ngIf="demandeForm.get('nom').invalid && (demandeForm.get('nom').dirty || demandeForm.get('nom').touched)"-->
                                <!--             class="alert alert-danger">-->
                                <!--            <div *ngIf="demandeForm.get('nom').errors.required">-->
                                <!--                Nom is required.-->
                                <!--            </div>-->
                                <!--        </div>-->
                            </div>




                            <div class="form-group ">
                                <label for="description" class="form-label">Description:</label>
                                <textarea class="form-control" formControlName="description" type="text" required></textarea>

                            </div>


                            <!--                                    <div class="upload-container">-->
                            <!--                                        <div class="input-div">-->
                            <!--                                            <input class="input" name="file" type="file" (change)="onFileChange($event)" >-->
                            <!--                                            <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" stroke-linejoin="round" stroke-linecap="round" viewBox="0 0 24 24" stroke-width="2" fill="none" stroke="currentColor" class="icon"><polyline points="16 16 12 12 8 16"></polyline><line y2="21" x2="12" y1="12" x1="12"></line><path d="M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"></path><polyline points="16 16 12 12 8 16"></polyline></svg>-->
                            <!--                                        </div>-->
                            <!--                                    </div>-->

                        </div>


                        <div class="dx-field">
                            <div class="dx-field-label">Select Equipe</div>
                            <div class="dx-field-value">
                                <dx-drop-down-box
                                        [(value)]="gridBoxValue"
                                        [inputAttr]="{ 'aria-label': 'Owner' }"
                                        valueExpr="id"
                                        displayExpr="nom"
                                        placeholder="Select a value..."
                                        [showClearButton]="true"
                                        [dataSource]="gridDataSource"
                                >
                                    <div *dxTemplate="let data of 'content'">
                                        <dx-data-grid
                                                [dataSource]="gridDataSource"
                                                [columns]="['nom', 'telephone', 'email']"
                                                [selection]="{ mode: 'multiple' }"
                                                [hoverStateEnabled]="true"
                                                [paging]="{ enabled: true, pageSize: 10 }"
                                                [filterRow]="{ visible: true }"
                                                [scrolling]="{ mode: 'virtual' }"
                                                [height]="345"
                                                [(selectedRowKeys)]="gridBoxValue"
                                        >
                                        </dx-data-grid>
                                    </div>
                                </dx-drop-down-box>
                            </div>
                        </div>
<!--                        <div *ngIf="gridBoxValue.length > 0">-->
<!--                            <h3>Données sélectionnées dans la drop-down box :</h3>-->
<!--                            <ul>-->
<!--                                <li *ngFor="let item of gridBoxValue">{{ item }}</li>-->
<!--                            </ul>-->
<!--                        </div>-->
                    </article>



            <div class="workflow-container">
                <!--            <button (click)="Return()" class="btn btn-light" mdbRipple type="button">Annuler</button>-->
                <!--            <button class="btn btn-success me-md-2" mdbRipple type="submit">Confirmer</button>-->
                <app-workflow-decision
                        *ngIf="oppForm &&(oppForm['workflow']!=undefined ||!(this.oppForm.userPermission == 'WRITE')) "
                        (decisionEvent)="Confirmation($event)"
                        (saveEvent)="save2()"
                        (RetournEvent)="Retourn()"
                        [access]="oppForm['userPermission'] === 'READ' || oppForm['userPermission'] === 'NONE'"
                        [decisions]="decissionWF"
                        [object]="oppForm"
                        [SaveObject]="oppForm">
                </app-workflow-decision>

                <!--        <div class="d-grid gap-2 d-md-flex justify-content-md-between">-->
                <!--            <button mdbRipple class="btn btn-light" type="button" (click)="Return()">Annuler</button>-->
                <!--            <button mdbRipple class="btn btn-success me-md-2" type="submit" >Confirmer</button>-->

            </div>
        </form>


    </div>

    <div
            class="tab-pane fade {{ etude ? 'show active' : '' }}"
            id="ex3-tabs-3"
            role="tabpanel"
            aria-labelledby="ex3-tab-3"
            *ngIf="etude"
    >

        <dx-accordion
                [collapsible]="true"
                height="auto"
                [selectedIndex]="-1"
                [animationDuration]="300"
        >
            <dxi-item title="Opportunité info">
                <div >
                    <div class="form-group">
                        <label class="form-label"><b>Nom:</b></label>
                        <input class="form-control"  type="text" [value]="oppObject.nom" readonly />
                    </div>
                    <div class="form-group">
                        <label  class="form-label"><b>Description:</b></label>
                        <input  class="form-control"  type="text" [value]="oppObject.description" readonly />
                    </div>


                    <div class="form-group">
                        <label class="form-label"><b>Status:</b></label>
                        <input  class="form-control"  type="text" [value]="oppObject.status" readonly />
                    </div>

                    <div class="form-group">
                        <label  class="form-label"><b>Created At:</b></label>
                        <input  class="form-control"  type="text" [value]="oppObject.createAt | date:'medium'" readonly />
                    </div>


                </div>
            </dxi-item>
        </dx-accordion>

        <form [formGroup]="techForm" class="row g-3 needs-validation custom-form" novalidate>



            <section class="light" >
                <div class="container py-2">
                    <div class="h1 text-center text-dark" ></div>


                    <article class="postcard light green">
                        <a class="postcard__img_link" href="#">
                            <!--                    <img class="postcard__img" src="https://picsum.photos/500/501" alt="Image Title" />-->
                        </a>
                        <div class="postcard__text t-dark">


                            <div class="form-group">
                                <label  class="form-label">Nombre de membres dans l'équipe de développement est :</label>
                                <input class="form-control" formControlName="membres"  type="text" >

                            </div>
                            <div class="form-group ">
                                <label  class="form-label">Specialite:</label>
                                <input class="form-control" formControlName="specialite"  type="text" >

                            </div>
                            <div class="form-group ">
                                <label  class="form-label">Le nombre total d'heures de développement pour l'application:</label>
                                <input class="form-control" formControlName="nbreHours" type="text" >
                                <div *ngIf="techForm.get('membres').invalid && (techForm.get('membres').dirty || techForm.get('membres').touched)"
                                     class="text-danger">
                                    <div *ngIf="techForm.get('membres').errors.required">Ce champ est requis</div>
                                    <div *ngIf="techForm.get('membres').errors.pattern">Entrez un nombre valide</div>
                                </div>
                            </div>
                            <div class="form-group ">
                                <label  class="form-label">Complexite:</label>
                                <input class="form-control" formControlName="complexite" type="text">

                            </div>
                            <div class="form-group">
                                <label class="form-label">Description:</label>
                                <textarea class="form-control" formControlName="evaluation" type="text"></textarea>

                            </div>



                        </div>

                    </article>

                </div>

            </section>


            <div class="workflow-container">
                <!--            <button (click)="Return()" class="btn btn-light" mdbRipple type="button">Annuler</button>-->
                <!--            <button class="btn btn-success me-md-2" mdbRipple type="submit">Confirmer</button>-->
                <app-workflow-decision
                        *ngIf="oppForm &&(oppForm['workflow']!=undefined ||!(this.oppForm.userPermission == 'WRITE')) "
                        (decisionEvent)="Confirmation($event)"
                        (saveEvent)="save3()"
                        (RetournEvent)="Retourn()"
                        [access]="oppForm['userPermission'] === 'READ' || oppForm['userPermission'] === 'NONE'"
                        [decisions]="decissionWF"
                        [object]="oppForm"
                        [SaveObject]="oppForm">
                </app-workflow-decision>

                <!--        <div class="d-grid gap-2 d-md-flex justify-content-md-between">-->
                <!--            <button mdbRipple class="btn btn-light" type="button" (click)="Return()">Annuler</button>-->
                <!--            <button mdbRipple class="btn btn-success me-md-2" type="submit" >Confirmer</button>-->

            </div>
        </form>

        <div class="row">
            <div class="col-md-4" *ngFor="let projet of equipesaff">
                <div class="card text-center">
                    <div class="card-header">{{ projet.nom }}</div>
                    <div class="card-body">
                        <h5 class="card-title">{{ projet.telephone }}</h5>
                        <p class="card-text">{{ projet.description }}</p>
                        <a href="#" class="btn btn-primary">Voir plus</a>
                    </div>
                    <!--                    <div class="card-footer text-muted">{{ projet.date | date: 'dd/MM/yyyy' }}</div>-->
                </div>
            </div>
        </div>
        <br>
    </div>



    <!-- Content for new tab -->
    <div
            class="tab-pane fade {{ rapport ? 'show active' : '' }}"
            id="ex3-tabs-4"
            role="tabpanel"
            aria-labelledby="ex3-tab-4"
            *ngIf="rapport"
    >
        <dx-accordion
                [collapsible]="true"
                height="auto"
                [selectedIndex]="-1"
                [animationDuration]="300"
        >
            <dxi-item title="Opportunité info">
                <div >
                    <div class="form-group">
                        <label class="form-label"><b>Nom:</b></label>
                        <input class="form-control"  type="text" [value]="oppObject.nom" readonly />
                    </div>
                    <div class="form-group">
                        <label  class="form-label"><b>Description:</b></label>
                        <input  class="form-control"  type="text" [value]="oppObject.description" readonly />
                    </div>


                    <div class="form-group">
                        <label class="form-label"><b>Status:</b></label>
                        <input  class="form-control"  type="text" [value]="oppObject.status" readonly />
                    </div>

                    <div class="form-group">
                        <label  class="form-label"><b>Created At:</b></label>
                        <input  class="form-control"  type="text" [value]="oppObject.createAt | date:'medium'" readonly />
                    </div>


                </div>
            </dxi-item>
        </dx-accordion>

        <dx-accordion
                [collapsible]="true"
                height="auto"
                [selectedIndex]="-1"
                [animationDuration]="300"
        >
            <dxi-item title="Demande info">
                <div >
                    <!--  <div><b>ID:</b> {{ data.id }}</div>
                      <div><b>Status:</b> {{ data.status }}</div>-->
                    <div><b>Description:</b> {{ oppObject.demande.nom }}</div>
<!--                    <div><b>Description:</b> {{ oppObject.demande_id }}</div>-->
                    <!--  <div><b>Nom:</b> {{ data.nom }}</div>
                      <div><b>Created At:</b> {{ data.createAt | date:'medium' }}</div>
                      <div><b>Number of Attachments:</b> {{ data.numberOfattachments }}</div>-->

                </div>
            </dxi-item>
        </dx-accordion>

        <form [formGroup]="oppF" class="row g-3 needs-validation custom-form" novalidate>




            <article class="postcard light green">
                <a class="postcard__img_link" href="#">
                    <!--                    <img class="postcard__img" src="https://picsum.photos/500/501" alt="Image Title" />-->
                </a>
                <div class="postcard__text t-dark">


                    <div class="form-group ">
                        <label for="nom" class="form-label">Nom:</label>
                        <input class="form-control" formControlName="nom" type="text" required>
                        <!--        <div *ngIf="demandeForm.get('nom').invalid && (demandeForm.get('nom').dirty || demandeForm.get('nom').touched)"-->
                        <!--             class="alert alert-danger">-->
                        <!--            <div *ngIf="demandeForm.get('nom').errors.required">-->
                        <!--                Nom is required.-->
                        <!--            </div>-->
                        <!--        </div>-->
                    </div>


                    <div class="form-group ">
                        <label for="description" class="form-label">Description:</label>
                        <textarea class="form-control" formControlName="description" type="text" required></textarea>

                    </div>



                </div>


                <label class="form-label" >Default file input example</label>
                <input type="file" class="form-control"  />
            </article>



            <div class="workflow-container">
                <!--            <button (click)="Return()" class="btn btn-light" mdbRipple type="button">Annuler</button>-->
                <!--            <button class="btn btn-success me-md-2" mdbRipple type="submit">Confirmer</button>-->
                <app-workflow-decision
                        *ngIf="oppForm &&(oppForm['workflow']!=undefined ||!(this.oppForm.userPermission == 'WRITE')) "
                        (decisionEvent)="Confirmation($event)"
                        (saveEvent)="save()"
                        (RetournEvent)="Retourn()"
                        [access]="oppForm['userPermission'] === 'READ' || oppForm['userPermission'] === 'NONE'"
                        [decisions]="decissionWF"
                        [object]="oppForm"
                        [SaveObject]="oppForm">
                </app-workflow-decision>

                <!--        <div class="d-grid gap-2 d-md-flex justify-content-md-between">-->
                <!--            <button mdbRipple class="btn btn-light" type="button" (click)="Return()">Annuler</button>-->
                <!--            <button mdbRipple class="btn btn-success me-md-2" type="submit" >Confirmer</button>-->

            </div>
        </form>

    </div>


    <div
            class="tab-pane fade {{ elsebool ? 'show active' : '' }}"
            id="ex3-tabs-5"
            role="tabpanel"
            aria-labelledby="ex3-tab-5"
            *ngIf="elsebool"
    >
        <dx-accordion
                [collapsible]="true"
                height="auto"
                [selectedIndex]="-1"
                [animationDuration]="300"
        >
            <dxi-item title="Opportunité info">
                <div >
                    <div class="form-group">
                        <label class="form-label"><b>Nom:</b></label>
                        <input class="form-control"  type="text" [value]="oppObject.nom" readonly />
                    </div>
                    <div class="form-group">
                        <label  class="form-label"><b>Description:</b></label>
                        <input  class="form-control"  type="text" [value]="oppObject.description" readonly />
                    </div>


                    <div class="form-group">
                        <label class="form-label"><b>Status:</b></label>
                        <input  class="form-control"  type="text" [value]="oppObject.status" readonly />
                    </div>

                    <div class="form-group">
                        <label  class="form-label"><b>Created At:</b></label>
                        <input  class="form-control"  type="text" [value]="oppObject.createAt | date:'medium'" readonly />
                    </div>


                </div>
            </dxi-item>
        </dx-accordion>

        <form [formGroup]="oppF" class="row g-3 needs-validation custom-form" novalidate>




            <article class="postcard light green">
                <a class="postcard__img_link" href="#">
                    <!--                    <img class="postcard__img" src="https://picsum.photos/500/501" alt="Image Title" />-->
                </a>
                <div class="postcard__text t-dark">


                    <div class="form-group ">
                        <label for="nom" class="form-label">Nom:</label>
                        <input class="form-control" formControlName="nom" type="text" required>
                        <!--        <div *ngIf="demandeForm.get('nom').invalid && (demandeForm.get('nom').dirty || demandeForm.get('nom').touched)"-->
                        <!--             class="alert alert-danger">-->
                        <!--            <div *ngIf="demandeForm.get('nom').errors.required">-->
                        <!--                Nom is required.-->
                        <!--            </div>-->
                        <!--        </div>-->
                    </div>



                    <div class="form-group ">
                        <label for="description" class="form-label">Description:</label>
                        <textarea class="form-control" formControlName="description" type="text" required></textarea>

                    </div>

                    <!--                                    <div class="upload-container">-->
                    <!--                                        <div class="input-div">-->
                    <!--                                            <input class="input" name="file" type="file" (change)="onFileChange($event)" >-->
                    <!--                                            <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" stroke-linejoin="round" stroke-linecap="round" viewBox="0 0 24 24" stroke-width="2" fill="none" stroke="currentColor" class="icon"><polyline points="16 16 12 12 8 16"></polyline><line y2="21" x2="12" y1="12" x1="12"></line><path d="M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"></path><polyline points="16 16 12 12 8 16"></polyline></svg>-->
                    <!--                                        </div>-->
                    <!--                                    </div>-->

                </div>


                <label class="form-label" >Default file input example</label>
                <input type="file" class="form-control"  />
            </article>



            <div class="workflow-container">
                <!--            <button (click)="Return()" class="btn btn-light" mdbRipple type="button">Annuler</button>-->
                <!--            <button class="btn btn-success me-md-2" mdbRipple type="submit">Confirmer</button>-->
                <app-workflow-decision
                        *ngIf="oppForm &&(oppForm['workflow']!=undefined ||!(this.oppForm.userPermission == 'WRITE')) "
                        (decisionEvent)="Confirmation($event)"
                        (saveEvent)="save()"
                        (RetournEvent)="Retourn()"
                        [access]="oppForm['userPermission'] === 'READ' || oppForm['userPermission'] === 'NONE'"
                        [decisions]="decissionWF"
                        [object]="oppForm"
                        [SaveObject]="oppForm">
                </app-workflow-decision>

                <!--        <div class="d-grid gap-2 d-md-flex justify-content-md-between">-->
                <!--            <button mdbRipple class="btn btn-light" type="button" (click)="Return()">Annuler</button>-->
                <!--            <button mdbRipple class="btn btn-success me-md-2" type="submit" >Confirmer</button>-->

            </div>
        </form>

    </div>


    <div
            class="tab-pane fade {{ elsebool1 ? 'show active' : '' }}"
            id="ex3-tabs-6"
            role="tabpanel"
            aria-labelledby="ex3-tab-5"
            *ngIf="elsebool1"
    >
        <dx-accordion
                [collapsible]="true"
                height="auto"
                [selectedIndex]="-1"
                [animationDuration]="300"
        >
            <dxi-item title="Opportunité info">
                <div >
                    <div class="form-group">
                        <label class="form-label"><b>Nom:</b></label>
                        <input class="form-control"  type="text" [value]="oppObject.nom" readonly />
                    </div>
                    <div class="form-group">
                        <label  class="form-label"><b>Description:</b></label>
                        <input  class="form-control"  type="text" [value]="oppObject.description" readonly />
                    </div>


                    <div class="form-group">
                        <label class="form-label"><b>Status:</b></label>
                        <input  class="form-control"  type="text" [value]="oppObject.status" readonly />
                    </div>

                    <div class="form-group">
                        <label  class="form-label"><b>Created At:</b></label>
                        <input  class="form-control"  type="text" [value]="oppObject.createAt | date:'medium'" readonly />
                    </div>


                </div>
            </dxi-item>
        </dx-accordion>

        <form [formGroup]="oppF" class="row g-3 needs-validation custom-form" novalidate>




            <article class="postcard light green">
                <a class="postcard__img_link" href="#">
                    <!--                    <img class="postcard__img" src="https://picsum.photos/500/501" alt="Image Title" />-->
                </a>
                <div class="postcard__text t-dark">


                    <div class="form-group ">
                        <label for="nom" class="form-label">Nom:</label>
                        <input class="form-control" formControlName="nom" type="text" required>
                        <!--        <div *ngIf="demandeForm.get('nom').invalid && (demandeForm.get('nom').dirty || demandeForm.get('nom').touched)"-->
                        <!--             class="alert alert-danger">-->
                        <!--            <div *ngIf="demandeForm.get('nom').errors.required">-->
                        <!--                Nom is required.-->
                        <!--            </div>-->
                        <!--        </div>-->
                    </div>



                    <div class="form-group ">
                        <label for="description" class="form-label">Description:</label>
                        <textarea class="form-control" formControlName="description" type="text" required></textarea>

                    </div>

                </div>


                <label class="form-label" >Default file input example</label>
                <input type="file" class="form-control"  />
            </article>



            <div class="workflow-container">
                <!--            <button (click)="Return()" class="btn btn-light" mdbRipple type="button">Annuler</button>-->
                <!--            <button class="btn btn-success me-md-2" mdbRipple type="submit">Confirmer</button>-->
                <app-workflow-decision
                        *ngIf="oppForm &&(oppForm['workflow']!=undefined ||!(this.oppForm.userPermission == 'WRITE')) "
                        (decisionEvent)="Confirmation($event)"
                        (saveEvent)="save()"
                        (RetournEvent)="Retourn()"
                        [access]="oppForm['userPermission'] === 'READ' || oppForm['userPermission'] === 'NONE'"
                        [decisions]="decissionWF"
                        [object]="oppForm"
                        [SaveObject]="oppForm">
                </app-workflow-decision>

                <!--        <div class="d-grid gap-2 d-md-flex justify-content-md-between">-->
                <!--            <button mdbRipple class="btn btn-light" type="button" (click)="Return()">Annuler</button>-->
                <!--            <button mdbRipple class="btn btn-success me-md-2" type="submit" >Confirmer</button>-->

            </div>
        </form>

    </div>

</div>
<dx-popup
        [showCloseButton]="true"
        [maxWidth]="'auto'"
        [width]="popupWidth"
        [height]="popupHeight"
        [showTitle]="false"
        title="Workflow Viewer"
        [dragEnabled]="false"
        [closeOnOutsideClick]="true"
        [(visible)]="popupViewerVisible">
    <div *dxTemplate="let data of 'content'">
        <app-journal [viewerUrl]="demandedto.workflow.wfProcessID" [historicsWF]="demandedto.workflow.historicWF" [historicsEvt]="demandedto.events"
                     [historicsAcces]="demandedto.userActivity"></app-journal>
    </div>
</dx-popup>
<dx-load-panel
    #loadPanel
    shadingColor="rgba(0,0,0,0.4)"
    [position]="{ of: '#employee' }"
    [(visible)]="loadingVisible"
    [showIndicator]="true"
    [showPane]="true"
    [shading]="true"
    [hideOnOutsideClick]="false"
    (onShown)="onShown()"
    (onHidden)="onHidden()"
>
</dx-load-panel>